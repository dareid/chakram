<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Chakram: BDD REST API test tool</title>
    
    <meta name="description" content="Chakram: BDD REST API test tool" />
    
        <meta name="keywords" content="E2E REST API JSON chai mocha nodejs test BDD" />
        <meta name="keyword" content="E2E REST API JSON chai mocha nodejs test BDD" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"applicationName":"Chakram-BeInformed","meta":{"title":"Chakram: BDD REST API test tool","description":"Chakram: BDD REST API test tool","keyword":"E2E REST API JSON chai mocha nodejs test BDD"},"linenums":false,"default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">Chakram-BeInformed</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="module:chakram">
            <span class="title">
                <a href="module-chakram.html">module:chakram</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="module:chakram.addSchema"><a href="module-chakram.html#.addSchema">addSchema</a></li>
            
                <li data-name="module:chakram.addSchemaFormat"><a href="module-chakram.html#.addSchemaFormat">addSchemaFormat</a></li>
            
                <li data-name="module:chakram.getSchemaMap"><a href="module-chakram.html#.getSchemaMap">getSchemaMap</a></li>
            
                <li data-name="module:chakram.schemaBanUnknown"><a href="module-chakram.html#.schemaBanUnknown">schemaBanUnknown</a></li>
            
                <li data-name="module:chakram.schemaCyclicCheck"><a href="module-chakram.html#.schemaCyclicCheck">schemaCyclicCheck</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="module:chakram.addMethod"><a href="module-chakram.html#.addMethod">addMethod</a></li>
            
                <li data-name="module:chakram.addProperty"><a href="module-chakram.html#.addProperty">addProperty</a></li>
            
                <li data-name="module:chakram.addRawPlugin"><a href="module-chakram.html#.addRawPlugin">addRawPlugin</a></li>
            
                <li data-name="module:chakram.all"><a href="module-chakram.html#.all">all</a></li>
            
                <li data-name="module:chakram.clearRequestDefaults"><a href="module-chakram.html#.clearRequestDefaults">clearRequestDefaults</a></li>
            
                <li data-name="module:chakram.del"><a href="module-chakram.html#.del">del</a></li>
            
                <li data-name="module:chakram.delete"><a href="module-chakram.html#.delete">delete</a></li>
            
                <li data-name="module:chakram.expect"><a href="module-chakram.html#.expect">expect</a></li>
            
                <li data-name="module:chakram.get"><a href="module-chakram.html#.get">get</a></li>
            
                <li data-name="module:chakram.head"><a href="module-chakram.html#.head">head</a></li>
            
                <li data-name="module:chakram.initialize"><a href="module-chakram.html#.initialize">initialize</a></li>
            
                <li data-name="module:chakram.options"><a href="module-chakram.html#.options">options</a></li>
            
                <li data-name="module:chakram.patch"><a href="module-chakram.html#.patch">patch</a></li>
            
                <li data-name="module:chakram.post"><a href="module-chakram.html#.post">post</a></li>
            
                <li data-name="module:chakram.put"><a href="module-chakram.html#.put">put</a></li>
            
                <li data-name="module:chakram.setRequestDefaults"><a href="module-chakram.html#.setRequestDefaults">setRequestDefaults</a></li>
            
                <li data-name="module:chakram.startDebug"><a href="module-chakram.html#.startDebug">startDebug</a></li>
            
                <li data-name="module:chakram.stopDebug"><a href="module-chakram.html#.stopDebug">stopDebug</a></li>
            
                <li data-name="module:chakram.wait"><a href="module-chakram.html#.wait">wait</a></li>
            
                <li data-name="module:chakram.waitFor"><a href="module-chakram.html#.waitFor">waitFor</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="module:chakram-expectation">
            <span class="title">
                <a href="module-chakram-expectation.html">module:chakram-expectation</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="module:chakram-expectation.arrayIncluding"><a href="module-chakram-expectation.html#.arrayIncluding">arrayIncluding</a></li>
            
                <li data-name="module:chakram-expectation.arrayLength"><a href="module-chakram-expectation.html#.arrayLength">arrayLength</a></li>
            
                <li data-name="module:chakram-expectation.cookie"><a href="module-chakram-expectation.html#.cookie">cookie</a></li>
            
                <li data-name="module:chakram-expectation.deflate"><a href="module-chakram-expectation.html#.deflate">deflate</a></li>
            
                <li data-name="module:chakram-expectation.gzip"><a href="module-chakram-expectation.html#.gzip">gzip</a></li>
            
                <li data-name="module:chakram-expectation.header"><a href="module-chakram-expectation.html#.header">header</a></li>
            
                <li data-name="module:chakram-expectation.json"><a href="module-chakram-expectation.html#.json">json</a></li>
            
                <li data-name="module:chakram-expectation.responsetime"><a href="module-chakram-expectation.html#.responsetime">responsetime</a></li>
            
                <li data-name="module:chakram-expectation.schema"><a href="module-chakram-expectation.html#.schema">schema</a></li>
            
                <li data-name="module:chakram-expectation.status"><a href="module-chakram-expectation.html#.status">status</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="global">
            <span class="title">
                <a href="global.html">global</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li data-name="ChakramResponse"><a href="global.html#ChakramResponse">ChakramResponse</a></li>
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="jar"><a href="global.html#jar">jar</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>

    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme"><h1>Chakram-BeInformed</h1>
<p><a href="https://www.beinformed.com">Be Informed</a> is using Chakram extensively in its own test tooling solution. Since Chakram is no longer actively maintained, we decided to fork Chakram and to replace deprecated components with newer alternatives and upgrade dependencies.</p>
<p>Documentation on Chakram-BeInformed can be found on https://beinformed.github.io/chakram-beinformed/. You can also find documentation in the <code>docs</code> folder of this project.</p>
<h2>Differences between Chakram and Chakram-BeInformed</h2>
<p>Main difference between Chakram and Chakram-BeInformed is that the latter is no longer using <a href="https://github.com/request/request">request</a> and <a href="https://github.com/request/request-debug">request-debug</a> but instead depends on the <a href="https://github.com/node-fetch/node-fetch">Fetch API</a> to perform HTTP requests.</p>
<h2>Compatibility with Chakram</h2>
<p>One of the goals for the fork was to maintain backwards compatibility with Chakram where possible. However due to differences between the Fetch API and request, this was not entirely possible.</p>
<h3>List Of changes</h3>
<p>Below you can find a list of breaking changes.</p>
<h4>HTTP requests</h4>
<ul>
<li>Raw HTTP response on the response object is a Fetch Response instead of request module response;</li>
<li>Params argument to Chakram HTTP methods expect <a href="https://github.com/node-fetch/node-fetch#options">Fetch options</a> instead of options for the request library;</li>
</ul>
<h3>HTTP Responses</h3>
<ul>
<li>The <code>statusCode</code> property on HTTP responses is now available under the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>status</code></a> property;</li>
<li>The body is no longer available in the raw response.</li>
</ul>
<h3>Cookies</h3>
<ul>
<li>The <a href="https://github.com/salesforce/tough-cookie">Tough Cookie</a> library is now a direct dependency of this library instead of using the request library for cookie management;</li>
<li>The Cookie Jar available on responses no longer nested under the <code>_jar</code> property but directly available on the root <code>jar</code> property of HTTP responses.</li>
</ul>
<h3>HTTP Debugging</h3>
<ul>
<li>The debugging features of Chrakram (<code>chakram.startDebug()</code> and <code>chakram.stopDebug()</code>) no longer uses <a href="https://github.com/request/request-debug">request-debug</a> but instead now depend on a NodeJs EventEmitter.</li>
<li>The optional custom debugger function passed to <code>startDebug()</code> is now accepting a callback function with a single event argument.</li>
</ul>
<h2>Project Contributions</h2>
<p>We decided to publish our fork to Github for others to benefit. We are willing to receive contributions to the project in the form of PRs.</p>
<h2>Credits</h2>
<p>Credits go to <a href="https://github.com/dareid">Daniel Reid</a> for creating Chakram!</p>
<hr>
<p><strong>Original Chakram README below</strong></p>
<h1>Chakram</h1>
<p>Chakram is an API testing framework designed to perform end to end tests on JSON REST endpoints.</p>
<p>The library offers a BDD testing style and fully exploits javascript promises - the resulting tests are simple, clear and expressive. Chakram is built on <a href="https://nodejs.org/">node.js</a>, <a href="http://mochajs.org/">mocha</a>, <a href="http://chaijs.com/">chai</a> and <a href="https://github.com/request/request">request</a>.</p>
<p>This readme offers an introduction to the library. For more information, visit Chakram's <a href="http://dareid.github.io/chakram/">documentation</a> and <a href="https://github.com/dareid/chakram/tree/master/test">tests</a> which demonstrate all of Chakram's capabilities. In addition, example tests of publicly accessible APIs are available in the <a href="https://github.com/dareid/chakram/tree/master/examples">examples directory</a>. If required, assistance can be found in the project's <a href="https://gitter.im/dareid/chakram">gitter chat room</a>.</p>
<h2>Features</h2>
<ul>
<li>HTTP specific assertions. Allows testing of:
<ul>
<li>Status codes</li>
<li>Cookie presence and value</li>
<li>Header presence and value</li>
<li>JSON values</li>
<li>JSON structure (using the <a href="http://json-schema.org/documentation.html">JSON schema specification</a>)</li>
<li>Compression</li>
<li>Response times</li>
</ul>
</li>
<li>BDD formatting and hooks (e.g. beforeEach, afterEach)</li>
<li>Promise based</li>
<li>Plugin support</li>
<li>Custom assertions</li>
<li>Exports results in a variety of formats</li>
<li>Debugging support</li>
</ul>
<h2>Plugins</h2>
<p>Awesome plugins from the community:</p>
<ul>
<li><a href="https://github.com/roberto/chakram-joi">Joi Schema Assertion</a></li>
</ul>
<p>We would love to see more plugins! If you have a plugin, please add it to the list.</p>
<h2>Getting Started</h2>
<h3>Install Chakram</h3>
<p>Chakram requires Node.js and npm to be installed. It is available as an npm module. Ideally, Chakram should be added to your testing project's devDependencies. This can be achieved with the following command:</p>
<pre class="prettyprint source lang-js"><code>npm install chakram --save-dev
</code></pre>
<h3>Writing Tests</h3>
<p>Chakram builds on top of the mocha testing framework. As such, the tests follow mocha's <a href="http://mochajs.org/#getting-started">BDD style</a>. The following sections introduce the various aspects of writing a Chakram test.</p>
<h4>Making Requests</h4>
<p>Chakram makes use of the <a href="https://github.com/request/request">request library</a> and as such boasts a comprehensive request capability. Chakram exposes helper methods for the most common HTTP request verbs. The methods typically require the URL as the first parameter, the request body (if applicable) as the second parameter and any request options as an optional last parameter. For full documentation of the request methods see <a href="http://dareid.github.io/chakram/jsdoc/module-chakram.html">here</a>. The request methods return a promise which resolves to a <a href="http://dareid.github.io/chakram/jsdoc/global.html#ChakramResponse">Chakram response object</a>.</p>
<p>Below is an example of making a HTTP GET request:</p>
<pre class="prettyprint source lang-js"><code>var chakram = require(&quot;chakram&quot;);

describe(&quot;Chakram&quot;, function () {
    it(&quot;should offer simple HTTP request capabilities&quot;, function () {
        return chakram.get(&quot;http://httpbin.org/get&quot;);
    });
});
</code></pre>
<h4>Testing Responses</h4>
<p>Chakram offers a range of HTTP specific assertions which can test the information returned from API requests. Chakram offers a BDD testing style through Chakram's <code>expect</code> interface.</p>
<p>When testing API responses, pass the request promise as an argument into chakram.expect. This will return an object which exposes the Chakram and Chai assertions. Perform an assertion by calling the desired <a href="http://dareid.github.io/chakram/jsdoc/module-chakram-expectation.html">Chakram assertion method</a>. <a href="http://chaijs.com/api/bdd/">Chai properties</a> can be used as a prefix to the assertion, improving the test's readability.</p>
<p>The assertion is performed once the response is received (i.e. the request promise is fulfilled). Chakram assertions return a promise which resolve to a <a href="http://dareid.github.io/chakram/jsdoc/global.html#ChakramResponse">Chakram response object</a> once the test has been performed.</p>
<p>Below is an example of testing the status code of a HTTP GET request:</p>
<pre class="prettyprint source lang-js"><code>var chakram = require(&quot;chakram&quot;),
    expect = chakram.expect;

describe(&quot;Chakram&quot;, function () {
    it(&quot;should provide HTTP specific assertions&quot;, function () {
        var response = chakram.get(&quot;http://httpbin.org/get&quot;);
        return expect(response).to.have.status(200);
    });
});
</code></pre>
<p>In addition to the HTTP specific assertions, chakram.expect exposes all of <a href="http://chaijs.com/api/bdd/">Chai's BDD properties and methods</a>. Documentation for the HTTP specific assertions can be seen <a href="http://dareid.github.io/chakram/jsdoc/module-chakram-expectation.html">here</a>.</p>
<h4>Waiting</h4>
<p>As this library focuses on testing REST APIs, the tests are naturally asynchronous. Mocha has <a href="http://mochajs.org/#asynchronous-code">native support for promises</a>, which Chakram exploits. Returning a promise from an <code>it</code> callback will cause the test to wait until the promise resolves before continuing. Chakram's requests and expectations return promises which fulfill to <a href="http://dareid.github.io/chakram/jsdoc/global.html#ChakramResponse">Chakram response objects</a>. These promises can be returned to ensure the test waits for them to complete (as can be seen in the previous two examples).</p>
<p>It is important that tests wait for all requests and assertions to be completed. To help, chakram includes a wait method. This returns a promise which will be fulfilled once all assertions have been performed. Furthermore, Chakram will fail any tests which do not wait for assertions to complete. Below is a test using the wait method.</p>
<pre class="prettyprint source lang-js"><code>var chakram = require(&quot;chakram&quot;),
    expect = chakram.expect;

describe(&quot;Chakram&quot;, function () {
    it(&quot;should provide a simple async testing framework&quot;, function () {
        var response = chakram.get(&quot;http://httpbin.org/get&quot;);
        expect(response).to.have.status(200);
        expect(response).not.to.have.header(&quot;non-existing-header&quot;);
        return chakram.wait();
    });
});
</code></pre>
<h4>Complex Promise Use</h4>
<p>Due to the use of promises, complex tests can be written requiring chains of requests and assertions. An example can be seen below:</p>
<pre class="prettyprint source lang-js"><code>describe(&quot;Chakram&quot;, function () {
    it(&quot;should support sequential API interaction&quot;, function () {
        var artist = &quot;Notorious B.I.G.&quot;;
        return chakram
            .get(&quot;https://api.spotify.com/v1/search?q=&quot; + artist + &quot;&type=artist&quot;)
            .then(function (searchResponse) {
                var bigID = searchResponse.body.artists.items[0].id;
                return chakram.get(
                    &quot;https://api.spotify.com/v1/artists/&quot; + bigID + &quot;/top-tracks?country=GB&quot;
                );
            })
            .then(function (topTrackResponse) {
                var topTrack = topTrackResponse.body.tracks[0];
                expect(topTrack.name).to.contain(&quot;Old Thing Back&quot;);
            });
    });
});
</code></pre>
<p>Chakram exposes three promise related methods:</p>
<ul>
<li><a href="http://dareid.github.io/chakram/jsdoc/module-chakram.html#.all">all</a>, which takes an array of promises and returns a promise which is fulfilled once all promises in the provided array are fulfilled. The fulfillment value of the returned promise is an array of the fulfillment values of the promises which were passed to the function.</li>
<li><a href="http://dareid.github.io/chakram/jsdoc/module-chakram.html#.wait">wait</a>, which returns a promise which is fulfilled once all Chakram expectations are fulfilled.</li>
<li><a href="http://dareid.github.io/chakram/jsdoc/module-chakram.html#.waitFor">waitFor</a>, which takes an array of promises and returns a promise which is fulfilled once all promises in the provided array are fulfilled. This is similar to chakram.all, except it is fulfilled with the fulfillment value of the last promise in the provided array.</li>
</ul>
<h3>Running Tests</h3>
<p>To run Chakram tests, install the Mocha testing framework globally (or as a dev dependency):</p>
<pre class="prettyprint source"><code>npm install -g mocha
</code></pre>
<p>Once installed, run the tests using the <a href="http://mochajs.org/#usage">Mocha command line</a>, which in its simplest form is:</p>
<pre class="prettyprint source"><code>mocha path/to/tests
</code></pre>
<p>Test results can be exported in multiple formats, Mocha's builtin formats are described <a href="http://mochajs.org/#reporters">here</a> and export plugins for Mocha are available on NPM.</p>
<h3>Adding Assertions</h3>
<p>New assertions can be easily added to Chakram. The <a href="https://github.com/dareid/chakram/blob/master/test/core/plugins.js">plugin tests</a> demonstrate how properties and methods can be added. Further information is available in <a href="http://chaijs.com/guide/plugins/">Chai's plugin documentation</a>.</p>
<h2>Contributing</h2>
<p>Issues, pull requests and questions are welcomed.</p>
<h3>Pull Requests</h3>
<ul>
<li>Fork the repository</li>
<li>Make changes</li>
<li>If required, write tests covering the new functionality (tests are normally written against <a href="http://httpbin.org/">httpbin.org</a>)</li>
<li>Ensure all tests pass and 100% code coverage is achieved (run <code>npm test</code>)</li>
<li>Raise pull request</li>
</ul></article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Thu Feb 03 2022 10:44:29 GMT+0100 (Central European Standard Time)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>